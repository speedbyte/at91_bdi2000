; bdiGDB configuration for NetSilicon NS9360 evaluation board
; ----------------------------------------------------------
;
[INIT]
;
WM32    0xA0900174  0x00000000  ;WTCON: disable watch dog
;
; Setup memory controller based on 24XMON
;WM32   0xA0900188  0x00008092
WM32    0xA0700080  0x000003FF
WM32    0xA0700220  0x00000082
WM32    0xA0700224  0x00000000
WM32    0xA0700228  0x00000000
WM32    0xA070022C  0x00000008
WM32    0xA0700230  0x00000000
WM32    0xA0700234  0x00000004
WM32    0xA0700238  0x00000000
WM32    0xA0700020  0x00000003
WM32    0xA0700024  0x00000056
WM32    0xA0700028  0x00000001
WM32    0xA0700038  0x0000000F
WM32    0xA0700030  0x00000001
WM32    0xA0700034  0x00000004
WM32    0xA070003C  0x00000001
WM32    0xA0700040  0x00000004
WM32    0xA0700044  0x00000001
WM32    0xA0700048  0x00000005
WM32    0xA070004C  0x00000005
WM32    0xA0700050  0x0000001F
WM32    0xA0700054  0x00000001
WM32    0xA0700058  0x00000001
WM32    0xA0700100  0x00084500
WM32    0xA0700104  0x00000203
;WM32    0xA0700004  0x00000000
WM32    0xA0700000  0x00000001


[TARGET]
CPUTYPE     ARM926E
CLOCK       1                   ;JTAG clock (0=Adaptive, 1=16MHz, 2=8MHz, 3=4MHz)
RESET       HARD                ;BDI asserts hardware reset at startup
STARTUP     RESET
WAKEUP      500                 ;delay
ENDIAN      LITTLE              ;memory model (LITTLE | BIG)
VECTOR      CATCH 0x1f          ;catch D_Abort, P_Abort, SWI, Undef and Reset
BDIMODE     AGENT               ;the BDI working mode (LOADONLY | AGENT)
BREAKMODE   HARD                ;SOFT or HARD, ARM / Thumb break code
TRST        PUSHPULL


[HOST]
IP          167.116.151.204
;FILE        /tftpboot/u-boot
;FILE        u-boot.bin
;FILE        u-boot
;FORMAT      BIN
;FORMAT      ELF
;LOAD        MANUAL      ;load U-boot code MANUAL or AUTO after reset
PROMPT      NS9360>


[FLASH]
; ======== AMD x 16 Boot Flash =======
WORKSPACE   0x00000000  ;workspace in target RAM for fast programming algorithm
CHIPTYPE    AM29BX16    ;Flash type (AM29F | AM29BX8 | AM29BX16 | I28BX8 | I28BX16)
CHIPSIZE    0x200000    ;The size of one flash chip in bytes
BUSWIDTH    32          ;The width of the flash memory bus in bits (8 | 16 | 32)
FILE        u-boot.bin  ;The file to program
;FILE        u-boot      ;The file to program
;FILE        /tftpboot/u-boot     ;The file to program
FORMAT      BIN 0x50000000
;FORMAT      ELF 0x50000000
ERASE       0x50000000 CHIP  ;erase sector 0 of flash in U11 (AM29LV160BB)
;ERASE       0x50008000  ;erase sector 4
;ERASE       0x5000C000  ;erase sector 4
;ERASE       0x50010000  ;erase sector 5
;ERASE       0x50020000  ;erase sector 7
;ERASE       0x50040000  ;erase sector 11
;ERASE       0x50060000  ;erase sector 15
;ERASE       0x50080000  ;erase sector 19
;ERASE       0x500A0000  ;erase sector 23
;ERASE       0x500C0000  ;erase sector 27
;ERASE       0x500E0000  ;erase sector 3
