; bdiGDB configuration for Samsung SMDK40100 evaluation board
; -----------------------------------------------------------
;
[INIT]
;
WREG    CPSR        0x000000D3  ;CPSR  : disable interrupts
WM16    0x07FFA002  0xA500      ;BTCON : disable watchdog
WM32    0x07FF1000  0x00017ff1  ;SYSCFG: enable SRAM mode
WM16	0x07FFB012  0x0707      ;PCON1 : Enable A16-A18
WM16    0x07FFB016  0x2aaa      ;PCON3 : enable WE0
WM16    0x07FFB018  0xffff      ;PCON4 : enable D8-D15
;
WM32    0x07FF2000  0x02000071  ;BANKCON0: 1MB flash space
WM32    0x07FF2004  0x00000000  ;BANKCON1:
WM32    0x07FF2008  0x00000000  ;BANKCON2:
WM32    0x07FF200C  0x00000000  ;BANKCON3:
WM32    0x07FF2010  0x00000000  ;BANKCON4:
WM32    0x07FF2014  0x00000000  ;BANKCON5:
WM32    0x07FF2018  0x00000000  ;BANKCON6:
WM32    0x07FF201C  0x00000000  ;BANKCON7:
WM32    0x07FF2020  0x00000001  ;REFCON:
;

[TARGET]
CPUTYPE     ARM7TDMI
CLOCK       1                   ;JTAG clock (0=Adaptive, 1=8MHz, 2=4MHz, 3=2MHz)
RESET       HARD 500            ;assert reset pin for 1 second
WAKEUP      500                 ;delay 1 second after releasing reset
DEBUGPC     0x07ff0000          ;set save PC to internal SRAM
;STARTUP     STOP 2000           ;let the monitor setup the memory controller.
ENDIAN      BIG                 ;memory model (LITTLE | BIG)
;BREAKMODE   HARD                ;SOFT or HARD, ARM / Thumb break code
BREAKMODE   SOFT 0xDFFFDFFF     ;SOFT or HARD, ARM / Thumb break code
;VECTOR      CATCH 0x1f          ;catch D_Abort, P_Abort, SWI, Undef and Reset

[HOST]
IP          151.120.25.119
FILE        E:\cygwin\home\demo\sdk40100\fibo.x
FORMAT      ELF
;FILE        E:\cygwin\home\bdidemo\arm\bin_sem0.exe ; for download test only
;FORMAT      BIN  0x01000000
LOAD        MANUAL      ;load VxWorks code MANUAL or AUTO after reset

[FLASH]
CHIPTYPE    AM29BX16    ;Flash type (AM29F | AM29BX8 | AM29BX16 | I28BX8 | I28BX16)
CHIPSIZE    0x100000    ;The size of one flash chip in bytes
BUSWIDTH    16          ;The width of the flash memory bus in bits (8 | 16 | 32)
WORKSPACE   0x07ff0000
FILE        E:\cygwin\home\bdidemo\arm\smdk40100.bin  ;The file to program
FORMAT      BIN 0x00000000
;FILE        E:\temp\redboot.elf  ;The file to program
;FORMAT      ELF 0xFF000000
ERASE       0x00000000
ERASE       0x00004000
ERASE       0x00006000
ERASE       0x00008000
ERASE       0x00010000
ERASE       0x00020000
ERASE       0x00030000
ERASE       0x00040000
ERASE       0x00050000
ERASE       0x00060000
ERASE       0x00070000
ERASE       0x00080000
ERASE       0x00090000
ERASE       0x000A0000
ERASE       0x000B0000
ERASE       0x000C0000
ERASE       0x000D0000
ERASE       0x000E0000
ERASE       0x000F0000









