; bdiGDB configuration file for STR710 evaluation board
; -----------------------------------------------------
;

[INIT]
;WREG    CPSR        0x000000d3  ;set superviser mode
;WGPR    15          0x00000000  ;set PC = 0

[TARGET]
CPUTYPE     ARM7TDMI
CLOCK       2                   ; JTAG clock 1 MHz
ENDIAN      LITTLE
TRST        OPENDRAIN
RESET       ST30 500            ;special STR710 reset sequence
WAKEUP      100                 ;start after 100 us
STARTUP     RESET
BREAKMODE   SOFT 0xDFFFDFFF     ;SOFT or HARD, ARM / Thumb break code
;BREAKMODE   HARD
;DEBUGPC     0xA0000000          ;set save PC to internal SRAM

[HOST]
IP          151.120.25.119
FILE        E:\temp\dump16k.bin ;The file to program
FORMAT      BIN 0x20000000
LOAD        MANUAL
PROMPT      STR710>

[FLASH]
WORKSPACE   0x20000000          ;workspace in internal SRAM
CHIPTYPE    STR710F             ;STR710F internal flash
CHIPSIZE    0x40000             ;256k internal program flash
BUSWIDTH    32                  ;select 32 for this flash

FILE        E:\temp\dump16k.bin ;The file to program
FORMAT      BIN 0x40030000
ERASE       0x00000080          ;erase sector B0F7

;FILE        $str710.bin ;The file to program
;FORMAT      BIN 0x40000000
;ERASE       0x000000FF          ;erase all sectors of bank 0

[REGS]
FILE        $str710.def


